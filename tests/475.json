{"code":"from math import *\r\n\r\ndef solve():\r\n\t\r\n\tmod = 10**9+7\r\n\ts = input()\r\n\tk = s.count('?')\r\n\tz = 0\r\n\tif k == 0:\r\n\t\tx, y = 1, 0\r\n\telif k == 1:\r\n\t\tx, y = 2, 1\r\n\telse:\r\n\t\tz = 1\r\n\t\tfor i in range(2, k):\r\n\t\t\tz = 2 * z % mod\r\n\t\ty = 2 * z % mod\r\n\t\tx = 2 * y % mod\r\n\tk, q, t = 0, 0, 0\r\n\tfor i in s:\r\n\t\tif i == 'b': k += 1\r\n\t\telif i == 'a':\r\n\t\t\tt = (t + k * x + q * y) % mod\r\n\t\telse:\r\n\t\t\tt = (t + k * y + q * z) % mod\r\n\t\t\tq += 1\r\n\treturn t\r\n\r\nprint(solve())","lang":2}