{"code":"#include <bits\/stdc++.h>\r\n#define int long long\r\n#define MAX 55000\r\nint z[MAX];\r\nusing namespace std;\r\n\r\nvoid z_funk(string s, int n, int m) {\r\n\tint l, r, cnt;\r\n\tl = r = cnt = 0;\r\n\tfor (int i = 1; i < n; i++) {\r\n\t\tif (r >= i) {\r\n\t\t\tz[i] = min(r-i+1, z[i-l]);\r\n\t\t}\r\n\t\twhile(z[i]+i<n&&s[z[i]]==s[z[i]+i]){\r\n\t\t\tz[i]++;\r\n\t\t}\r\n\t\tif (z[i]+i-1>r) {\r\n\t\t\tl = i;\r\n\t\t\tr = z[i]+i-1;\r\n\t\t}\r\n\t}\r\n\t\r\n\tint cnt2 = 0;\r\n\tfor (int i = m+1; i < n; i++) {\r\n\t\tif (z[i] != m) {\r\n\t\t\tcnt2++;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (n-i>=m-1) {\r\n\t\t\t\tcnt2 += m - 1;\r\n\t\t\t\tcnt += cnt2*(cnt2+1) \/ 2;\r\n\t\t\t\tcnt -= (m-2) * (m - 1) \/ 2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcnt2 += n - i;\r\n\t\t\t\tcnt += cnt2*(cnt2+1) \/ 2;\r\n\t\t\t}\r\n\t\t\tcnt2 = 0;\r\n\t\t}\r\n\t}\r\n\tcnt += cnt2*(cnt2+1) \/ 2;\r\n\tcout << cnt << endl;\r\n}\r\n\r\nvoid null(int n) {\r\n\tfor (int i = 0; i < n; i++) {\r\n\t\tz[i] = 0;\r\n\t}\r\n}\r\n\r\nint32_t main() {\r\n\r\n\tios::sync_with_stdio(0);\r\n\tcin.tie(0);\r\n\tcout.tie(0);\r\n\t\r\n\tint t;\r\n\tcin >> t;\r\n\twhile (t--) {\r\n    \r\n\t\tstring s1, s2, str;\r\n\t\tcin >> s1 >> s2;\r\n      \r\n\t\tstr = s2 + '$' + s1;\r\n\t\tint n = s2.length();\r\n\t\tint m = str.length();\r\n      \r\n\t\tnull(m);\r\n\t\tz_funk(str, m, n);\r\n\t}\r\n\treturn 0;\r\n}","lang":4}