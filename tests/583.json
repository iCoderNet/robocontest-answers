{"code":"#include<bits\/stdc++.h>\r\nusing namespace std;\r\ntypedef long long ll;\r\nconst ll OO=1e18;\r\nint n,k,a[17],k1,k2,hd[2400002],p[2200002],L,p1;\r\nll v1[1200000],v2[1200000],x,sm,mid,Mx=1e18;\r\n#define mxx 32222\r\nint dppp[mxx];\r\nvoid dfs1(int x,ll y){\r\n\tif(x>n){\r\n\t\tv1[++k1]=y;\r\n\t\treturn;\r\n\t}\r\n\tll S=1;\r\n\tfor(int i=0;;++i){\r\n\t\tdfs1(x+2,y*S);\r\n\t\tif(y*S>OO\/a[x])return;\r\n\t\tS*=a[x];\r\n\t}\r\n}\r\nvoid dfs2(int x,ll y){\r\n\tif(x>n){v2[++k2]=y;return;}\r\n\tll S=1;\r\n\tfor(int i=0;;++i){\r\n\t\tdfs2(x+2,y*S);\r\n\t\tif(y*S>OO\/a[x])return;\r\n\t\tS*=a[x];\r\n\t}\r\n}\r\nbool ok(ll x){\r\n\tint j=k2;sm=0;\r\n\tfor(int i=1;i<=k1&&v1[i]<=x;++i){\r\n\t\twhile(1ull*v1[i]*v2[j]>x)--j;\r\n\t\tif(!j)return 0;\r\n\t\tsm+=j;\r\n\t\tif(sm>=k)return 1;\r\n\t}\r\n\treturn 0;\r\n}\r\nint main(){\r\n\tcin>>n;\r\n\tfor(int i=1;i<=n;++i)cin>>a[i];\r\n\tcin>>k;\r\n\tL=(n+1)\/2;\r\n\tdfs1(2,1);\r\n\tsort(v1+1,v1+k1+1);\r\n\tdfs2(1,1);\r\n\tsort(v2+1,v2+k2+1);\r\n\tll l=0,r=1e18;\r\n\twhile(l<=r){\r\n\t\tmid=(l+r)>>1;\r\n\t\tif(ok(mid))r=mid-1,Mx=min(Mx,mid);\r\n\t\telse l=mid+1;\r\n\t}\r\n\tcout<<Mx;\r\n}","lang":4}