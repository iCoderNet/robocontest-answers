{"code":"#include<bits\/stdc++.h>\r\nusing namespace std;\r\n\r\n#define mx 100001\r\n#define m 1000001\r\n#define I int\r\nvector<I>s[mx];\r\nI dp[m];\r\nbool p[mx];\r\nI r;\r\nvoid f(I w[], I u, I d) {\r\n    p[u] = 1, dp[w[u]]++;\r\n    if (dp[w[u]] > 1) d++;\r\n    else if (!d) r++;\r\n    for (auto v : s[u]) if (!p[v]) f(w, v, d);\r\n    dp[w[u]]--;\r\n}\r\nint main() {\r\n    I n;\r\n    cin >> n;\r\n    I w[n+1];\r\n    for (I i = 1; i <= n; i++)\r\n        cin >> w[i];\r\n    for (I i = 0; i < n-1; i++) {\r\n        I x, y;\r\n        cin >> x >> y;\r\n        s[x].push_back(y);\r\n        s[y].push_back(x);\r\n    }\r\n    f(w, 1, 0);\r\n    cout << r;\r\n}","lang":4}