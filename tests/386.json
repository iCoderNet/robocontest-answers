{"code":"#include <iostream>\r\nusing namespace std;\r\nlong long binpow(long long x, long long y, long long p)\r\n{\r\n    long long res = 1;\r\n    if (y == 0) return 1;\r\n    while (y > 1)\r\n    {\r\n        if (y & 1)\r\n            res = (res%p * x%p) % p;\r\n        y = y>>1; \/\/ y = y\/2\r\n        x = (x%p * x%p) % p;\r\n    }\r\n    return (x * res) % p;\r\n}\r\nint main(){\r\n    long long mod = 1000000007;\r\n    long long s = 0, n, p;\r\n    cin>>n;\r\n    long long array[n];\r\n    for (long long i=0; i<n; i++){\r\n        cin>>array[i];\r\n    }\r\n    p = binpow(2, n, mod) - 1;\r\n    s = (s + (array[0]*p)) % mod;\r\n    for (long long j = 2; j <= n; j++){\r\n        p = ((p + binpow(2, n-j, mod))%mod + mod - binpow(2, j-2, mod)) % mod;\r\n        s = (s % mod + (array[j-1]%mod * p%mod)) % mod;\r\n    }\r\n    cout<<s;\r\n    return 0;\r\n}","lang":4}