{"code":"#include<bits\/stdc++.h>\r\n#define ll long long\r\nusing namespace std;\r\nll solve()\r\n{\r\n    ll n, m, k;\r\n    scanf(\"%lld%lld%lld\",&n,&m,&k);\r\n    ll ans = n * m;\r\n    map<ll,multiset<pair<ll,ll>>>mp;\r\n    set<ll>index;\r\n    ll q, u, v;\r\n    for (ll i = 0; i < k; i++) {\r\n        scanf(\"%lld%lld%lld\",&q,&u,&v);\r\n        mp[q].insert(make_pair(u, v));\r\n        index.insert(q);\r\n    }\r\n    for (auto x : index)\r\n    {\r\n        ll l = 0, r = -1;\r\n        for (auto y : mp[x])\r\n        {\r\n            ll se = y.second;\r\n            if (l <= y.first && y.first <= r)\r\n            {\r\n                r = max(r, se);\r\n            }\r\n            else\r\n            {\r\n                ans -= (r - l + 1);\r\n                l = y.first;\r\n                r = y.second;\r\n            }\r\n        }\r\n        ans -= (r - l + 1);\r\n    }\r\n    mp.clear();\r\n    index.clear();\r\n    return ans;\r\n}\r\nint main()\r\n{\r\n    ll t = 1;\r\n    while (t--) {\r\n        cout << solve() << endl;\r\n    }\r\n    return 0;\r\n}","lang":4}