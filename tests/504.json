{"code":"#include <bits\/stdc++.h>\r\nusing namespace std;\r\nconst int MAX = 1000;\r\nint arr[MAX];\r\nint memo[MAX][MAX];\r\n\r\nint g(int i, int j, int s) {\r\n\tif (j == i + 1)\r\n\t\treturn min(arr[i], arr[j]);\r\n\r\n\tif (memo[i][j] != -1)\r\n\t\treturn memo[i][j];\r\n\tmemo[i][j] = min((s - g(i + 1, j, s - arr[i])),(s - g(i, j - 1, s - arr[j])));\r\n\r\n\treturn memo[i][j];\r\n}\r\nint solve() {\r\n\r\n    int n;\r\n    cin >> n;\r\n    for (int i = 0; i < n; i++)\r\n        cin >> arr[i];\r\n    int cnt = 0;\r\n    cnt = accumulate(arr, arr + n, cnt);\r\n\tmemset(memo, -1, sizeof(memo));\r\n\r\n\treturn cnt - g(0, n - 1, cnt);\r\n}\r\n\r\nint main() {\r\n    ios_base::sync_with_stdio(false);\r\n    cin.tie(NULL);\r\n    cout.tie(NULL);\r\n\r\n    int t = 1;\r\n    while (t--) cout << solve() << endl;\r\n\treturn 0;\r\n}","lang":4}