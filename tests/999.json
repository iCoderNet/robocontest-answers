{"code":"#include<bits\/stdc++.h>\r\nusing namespace std;\r\n#define int long long\r\n#define mx 1000001\r\nint a[mx], p[mx];\r\nsigned main()\r\n{\r\n    ios_base::sync_with_stdio(0);\r\n    cin.tie(NULL);\r\n    cout.tie(NULL);\r\n    \r\n    int n;\r\n    cin >> n;\r\n    \r\n    for (int i = 1; i <= n; i++) {\r\n        cin >> a[i];\r\n        p[i] = p[i-1] + a[i];\r\n    }\r\n\r\n    map < int, int > mp;\r\n    for (int i = 0; i <= n; i++) {\r\n        if (mp.find(p[i]) != mp.end()) {\r\n            mp[p[i]]++;\r\n        }\r\n        else mp[p[i]] = 1ll;\r\n    }\r\n    int s = 0ll;\r\n    for (auto & [k, v] : mp) {\r\n        s += (v * (v - 1ll) \/ (2ll));\r\n    }\r\n    cout << s;\r\n\r\n    return 0;\r\n}","lang":4}