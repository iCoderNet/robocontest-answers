{"code":"#include <bits\/stdc++.h>\r\nusing namespace std;\r\n#define v vector\r\nint main(){\r\n    string s;\r\n    cin >> s;\r\n    v<v<int> > dp(1000, v<int>(1000));\r\n    v<int> _1, _2;\r\n    auto f = [&](int r){\r\n        for(int l = r-1; l >= 0; l --){\r\n            dp[r][l] = min(dp[r][l+1], dp[r-1][l]) + 1;\r\n            if(s[l] == s[r])\r\n                dp[r][l] = min(dp[r][l], dp[r-1][l+1]);\r\n        }\r\n    };\r\n    for(int r = 1; r < s.size(); r ++){\r\n        f(r);\r\n        _1 = dp[r-1];\r\n        _2 = dp[r];\r\n        swap(s[r], s[r-1]);\r\n        f(r-1);\r\n        f(r);\r\n        swap(s[r], s[r-1]);\r\n        dp[r-1] = _1;\r\n        for(int l = r - 1; l >= 0; l --)\r\n            dp[r][l] = min(dp[r][l]+1, _2[l]);\r\n    }\r\n    cout << dp[s.size()-1][0] << endl;\r\n}","lang":4}