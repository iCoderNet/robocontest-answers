{"code":"#include <bits\/stdc++.h>\r\n#define int long long\r\nusing namespace std;\r\n\r\nconst int MAX = 100001;\r\nbool arr[MAX] = {false};\r\nint x, y;\r\n\r\nint solve() {\r\n\r\n    int n, m, a, b;\r\n    cin >> n >> m >> a >> b;\r\n\r\n    vector<int>v[n + 1];\r\n    list<int>lt;\r\n\r\n    for (int i = 0; i < m; i += 1) {\r\n        cin >> x >> y;\r\n        v[x].push_back(y);\r\n        v[y].push_back(x);\r\n    }\r\n\r\n    for (int i = 0; i < n + 1; i += 1) {\r\n        arr[i] = false;\r\n    }\r\n    int temp = 0;\r\n    if (a > b) {\r\n        for (int i = 1; i <= n; i += 1) {\r\n            if (arr[i] == false) {\r\n                lt.push_back(i);\r\n                arr[i] = true;\r\n                temp += a;\r\n                while (!lt.empty()) {\r\n                    int tt = lt.front();\r\n                    for (auto vc : v[tt]) {\r\n                        if (arr[vc] == false) {\r\n                            lt.push_back(vc);\r\n                            arr[vc] = true;\r\n                            temp += b;\r\n                        }\r\n                    }\r\n                    lt.pop_front();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        temp = n * a;\r\n    }\r\n\r\n    return temp;\r\n}\r\n\r\nint32_t main()\r\n{\r\n    ios_base::sync_with_stdio(false);\r\n    cin.tie(NULL);\r\n\r\n    int t;\r\n    cin >> t;\r\n\r\n    while (t--) {\r\n        cout << solve() << '\\n';\r\n    }\r\n\r\n    return 0;\r\n}","lang":4}