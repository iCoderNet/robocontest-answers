{"code":"#include <bits\/stdc++.h>\r\nusing namespace std;\r\nusing ll = long long;\r\n\r\nint a[4001];\r\nmap<ll , pair<ll, ll>>mp;\r\nll fun(ll s){\r\n    ll res = 0;\r\n    if(s > 0){\r\n        res += mp[2000].first + mp[2000].second*s;\r\n        if(s > 2000) res += s*mp[-1].second - mp[-1].first;\r\n        else res += mp[-s].first - s*mp[-s].second + s*(mp[-1].second-mp[-s].second) - mp[-1].first + mp[-s].first;\r\n        res += mp[0].second*s;\r\n    }\r\n    else if(s < 0){\r\n        res += mp[-1].first - mp[-1].second*s;\r\n        if(s < -2000) res += (-s)*mp[2000].second - mp[2000].first;\r\n        else res += (mp[2000].first - mp[-s].first) + (mp[2000].second - mp[-s].second)*s + mp[-s].second*(-s) - mp[-s].first;\r\n        res -= mp[0].second*s;\r\n    }\r\n    else res += mp[-1].first + mp[2000].first;\r\n    return res;\r\n}\r\nint main(){\r\n    ios_base::sync_with_stdio(0);\r\n    cin.tie(0);\r\n    cout.tie(0);\r\n    ll n, q, x,i;\r\n    ll s = 0;\r\n    cin >> n;\r\n    for(i = 0; i < n; i ++){\r\n        cin >> x;\r\n        a[x+2000] ++;\r\n    }\r\n    mp[-2000].first = 2000*a[0];\r\n    mp[-2000].second = a[0];\r\n    for(i = -1999; i < 0; i ++){\r\n        mp[i].first = (-i)*a[i+2000] + mp[i-1].first;\r\n        mp[i].second = a[i+2000] + mp[i-1].second;\r\n    }\r\n    mp[0].first = 0; mp[0].second = a[2000];\r\n    mp[1].first = mp[1].second = a[2001];\r\n    for(i = 2; i <= 2000; i ++){\r\n        mp[i].first = i*a[i+2000] + mp[i-1].first;\r\n        mp[i].second = a[i+2000] + mp[i-1].second;\r\n    }\r\n    cin >> q;\r\n    for(i = 0; i < q; i ++){\r\n        cin >> x;\r\n        s += x;\r\n        cout << fun(s) << '\\n';\r\n    }\r\n}\/\/4444444444444444444444444444444444444444444444444444","lang":4}