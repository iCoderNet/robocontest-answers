{"code":"n = int(input())\r\nl = []\r\nfor i in range(n):\r\n    l.append(int(input()))\r\nt = [0]*n\r\nt[0] = 1\r\nindexes = []\r\ni = 1\r\nwhile i < n:\r\n    if l[i] > l[i-1]:\r\n        t[i] = max(t[i-1]+1,1)\r\n        if t[i-1] < 1: indexes.append(i-1)\r\n    elif l[i] == l[i-1]:\r\n        t[i] = 1\r\n        if t[i-1] < 1: indexes.append(i-1)\r\n    else:\r\n        t[i] = 1\r\n        if t[i-1] < 2: t[i] = t[i-1]-1\r\n    i += 1\r\nif t[n-1] < 1: indexes.append(i-1)\r\n\r\nfor i in indexes:\r\n    t[i] = 1\r\n    \r\n    j = i\r\n    while j > 0:\r\n        \r\n        if l[j - 1] > l[j] and t[j - 1] <= t[j]: t[j - 1] = t[j] + 1\r\n        else: break\r\n        j-=1\r\n        \r\n    j = i\r\n    while j+1 < n:\r\n        if l[j + 1] > l[j] and t[j + 1] <= t[j]: t[j + 1] = t[j] + 1\r\n        else: break;\r\n        \r\n        j+=1\r\nprint(sum(t))","lang":2}