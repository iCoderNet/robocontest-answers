{"code":"#include<bits\/stdc++.h>\r\nusing namespace std;\r\n\r\n#define int long long\r\n\r\nconst int MAX = 1001;\r\nint arr[MAX] = {0};\r\n\r\nvoid solve() {\r\n    int n, m, x, k;\r\n    cin >> n >> m >> x;\r\n\r\n    for (int i = 0; i < n; i++) {\r\n        cin >> k;\r\n        arr[k % m]++;\r\n    }\r\n\r\n    int new_arr[MAX], C = 0;\r\n\r\n    for (int i = 0; i < MAX; i++) {\r\n        if (arr[i]) {\r\n            new_arr[C++] = i;\r\n        }\r\n    }\r\n\r\n    int ans = 0;\r\n\r\n    for (int i = 0; i < C; i++) {\r\n        for (int j = i; j < C; j++) {\r\n            if ((new_arr[i] * new_arr[j]) % m == x && i != j) {\r\n                ans += (arr[new_arr[i]] * arr[new_arr[j]]);\r\n            }\r\n            else {\r\n                if ((new_arr[i] * new_arr[j]) % m == x && arr[new_arr[i]] > 1) {\r\n                    ans += (arr[new_arr[j]] * (arr[new_arr[j]] - 1) \/ 2);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    cout << ans;\r\n\r\n}\r\n\r\nint32_t main()\r\n{\r\n\r\n    int t = 1;\r\n    while (t--)\r\n        solve();\r\n\r\n    return 0;\r\n}","lang":4}