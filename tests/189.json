{"code":"#include<bits\/stdc++.h>\r\nusing namespace std;\r\nint solve()\r\n{\r\n    int n, m;\r\n    cin >> n >> m;\r\n    map<int, vector<pair<int,int>>>mp;\r\n    set<int>st;\r\n    int mat[n][m];\r\n    string w;\r\n    int count = 0;\r\n    for (int i = 0; i < n; i++) {\r\n        cin >> w;\r\n        for (int j = 0; j < m; j++) {\r\n            if (w[j] == 'B') {\r\n                mat[i][j] = 0;\r\n            }\r\n            else {\r\n                mat[i][j] = 1;\r\n                count++;\r\n                mp[0].push_back({i, j});\r\n            }\r\n        }\r\n    }\r\n    if (count == 0)\r\n        return 0;\r\n    if (count == 1)\r\n        return 1;\r\n    int mat2[n][m];\r\n    for (auto x : mp[0]) {\r\n        int a = x.first;\r\n        int b = x.second;\r\n        for (int i = 0; i < n; i++) {\r\n            for (int j = 0; j < m; j++) {\r\n                mat2[i][j] = mat[i][j];\r\n            }\r\n        }\r\n        int k = 0;\r\n        int ans = 0;\r\n        int cur = 1;\r\n        set<int>st2;\r\n        while (a-k>=0&&a+k<n&&b-k>=0&&b+k< m)\r\n        {\r\n            if (mat2[a-k][b]&&mat2[a+k][b]&&mat2[a][b-k]&&mat2[a][b+k])\r\n            {\r\n                ans += cur;\r\n                cur = 4;\r\n                mat2[a-k][b] = 0;\r\n                mat2[a+k][b] = 0;\r\n                mat2[a][b-k] = 0;\r\n                mat2[a][b+k] = 0;\r\n                for (int i = 0; i < n; i++) {\r\n                    for (int j = 0; j < m; j++) {\r\n                        if (mat2[i][j])\r\n                        {\r\n                            int kk = 1;\r\n                            int ans2 = 1;\r\n                            while (i-kk>=0&&i+kk<n&&j-kk>=0&&j+kk<m)\r\n                            {\r\n                                if (mat2[i-kk][j]&&mat2[i+kk][j]&&mat2[i][j-kk]&&mat2[i][j+kk])\r\n                                {\r\n                                    ans2 += 4;\r\n                                }\r\n                                else\r\n                                {\r\n                                    break;\r\n                                }\r\n                                kk++;\r\n                            }\r\n                            st2.insert(ans2);\r\n                        }\r\n                    }\r\n                }\r\n                if (st2.size()!=0) {\r\n                    int max_elem = *(st2.rbegin());\r\n                    st.insert(max_elem * ans);\r\n                    st2.clear();\r\n                }\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            k++;\r\n        }\r\n    }\r\n    return *(st.rbegin());\r\n}\r\n\r\nint main()\r\n{\r\n    ios_base::sync_with_stdio(false);\r\n    cin.tie(NULL);\r\n    int t = 1;\r\n    while (t--) {\r\n        cout << solve() << endl;\r\n    }\r\n\r\n    return 0;\r\n}\r\n\/*\r\n8 5\r\nBBGBB\r\nBBGBB\r\nGGGGG\r\nBBGBB\r\nBBGBB\r\nGGGGG\r\nBBGBB\r\nBBGBB\r\n9 --> no\r\n25 --> yes\r\n*\/","lang":4}