{"code":"n = int(input())\r\na = []\r\nfor i in range(n):\r\n    a.append(input())\r\nv = [[0 for i in range(n)] for j in range(n)]\r\n\r\nij = [[1,0],[0,1],[0,-1]]\r\ndef bfs(q):\r\n    global c\r\n    if len(q) == 0: return 0\r\n    \r\n    nq = []\r\n    for g in q:\r\n        i,j = g[0],g[1]\r\n        v[i][j] = c\r\n        for h in ij:\r\n            i,j = i+h[0],j+h[1]\r\n            if i >= 0 and i < n and j >= 0 and j < n and v[i][j] == 0 and a[i][j] != '#': nq.append([i,j])\r\n            i,j = i-h[0],j-h[1]\r\n    c += 1\r\n    bfs(nq)\r\n\r\nc = 0\r\nbfs([[0,0]])\r\nprint([v[-1][-1],-1][v[-1][-1] == 0])","lang":2}