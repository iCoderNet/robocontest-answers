{"code":"#include <bits\/stdc++.h>\r\nusing namespace std;\r\n\r\n#define mx 100000\r\nvector<int>adj[mx];\r\nint vis[mx];\r\n\r\nint main() {\r\n    int n, m;\r\n    cin >> n >> m;\r\n    int G1[m], G2[m], G3[m];\r\n    for (int i = 0; i < m; i++) {\r\n        cin >> G1[i] >> G2[i] >> G3[i];\r\n        adj[G1[i]].push_back(G2[i]);\r\n        adj[G2[i]].push_back(G1[i]);\r\n    }\r\n\r\n    int a, b;\r\n    cin >> a >> b;\r\n\r\n    int test;\r\n    cin >> test;\r\n    while (test--) {\r\n        int u, v;\r\n        cin >> u >> v;\r\n        if (a == b) {\r\n            cout << \"0\\n\";\r\n            continue;\r\n        }\r\n        for (int i = 0; i < n; i++) {\r\n            vis[i] = 0;\r\n        }\r\n        map<vector<int>,int>mp;\r\n        for (int i = 0; i < m; i++) {\r\n            mp[{G1[i], G2[i]}] = G3[i];\r\n            mp[{G2[i], G1[i]}] = G3[i];\r\n        }\r\n        mp[{u, v}] = -1;\r\n        mp[{v, u}] = -1;\r\n\r\n        vis[a] = 1;\r\n        list < int > lt;\r\n        lt.push_back(a);\r\n\r\n        while (!lt.empty()) {\r\n            int x = lt.front();\r\n            lt.pop_front();\r\n            for (auto y : adj[x]) {\r\n                if (vis[y] == 0) {\r\n                    if (mp[{x, y}] != -1) {\r\n                        vis[y] = vis[x] + mp[{x, y}];\r\n                        mp[{x, y}] = -1;\r\n                        mp[{y, x}] = -1;\r\n                        if (y != b)\r\n                            lt.push_back(y);\r\n                    }\r\n                }\r\n                else {\r\n                    if (mp[{x, y}] != -1) {\r\n                        vis[y] = min(vis[y], vis[x] + mp[{x, y}]);\r\n                        mp[{x, y}] = mp[{y, x}] = -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        cout << vis[b]-1 << endl;\r\n    }\r\n    return 0;\r\n}","lang":4}