{"code":"\/*\r\n\u2588\u2588    \u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588   \u2588\u2588\r\n\u2588\u2588\u2588  \u2588\u2588\u2588  \u2588\u2588        \u2588\u2588     \u2588\u2588 \u2588\u2588\r\n\u2588\u2588 \u2588\u2588 \u2588\u2588  \u2588\u2588        \u2588\u2588      \u2588\u2588\r\n\u2588\u2588    \u2588\u2588  \u2588\u2588        \u2588\u2588      \u2588\u2588\r\n\r\n  \u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588     \u2588\u2588      \u2588\u2588   \u2588\u2588  \u2588\u2588  \u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588   \u2588\u2588\r\n \u2588\u2588        \u2588\u2588       \u2588\u2588\u2588\u2588     \u2588\u2588   \u2588\u2588  \u2588\u2588 \u2588\u2588   \u2588\u2588      \u2588\u2588   \u2588\u2588\r\n \u2588\u2588        \u2588\u2588      \u2588\u2588  \u2588\u2588    \u2588\u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588    \u2588\u2588\u2588\u2588    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\r\n \u2588\u2588        \u2588\u2588     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588   \u2588\u2588   \u2588\u2588  \u2588\u2588 \u2588\u2588   \u2588\u2588      \u2588\u2588   \u2588\u2588\r\n  \u2588\u2588\u2588\u2588     \u2588\u2588    \u2588\u2588\u2588    \u2588\u2588\u2588  \u2588\u2588   \u2588\u2588  \u2588\u2588  \u2588\u2588  \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588   \u2588\u2588\r\n*\/\r\n#include <bits\/stdc++.h>\r\n\r\nusing namespace std;\r\nusing ll = long long;\r\nint main(){\r\n  ll q,n,s,l,r,x;\r\n  cin >> n >> q;\r\n  ll ls[n];\r\n  for(ll i=0;i<n;i++) {\r\n    cin>>ls[i];\r\n  }\r\n  for(ll i=0;i<q;i++){\r\n    cin >> s >> l >> r;\r\n    if(s==1){\r\n      cin>>x;\r\n      for(ll c=l-1;c<r;c++){\r\n        ls[c]+=x;\r\n      }\r\n    }\r\n    else if(s==2){\r\n      cin>>x;\r\n      for(ll c=l-1;c<r;c++){\r\n        ls[c]=x;\r\n      }\r\n    }\r\n    else{\r\n      ll ans=0;\r\n      for(ll c=l-1;c<r;c++){\r\n        ans+=ls[c];\r\n      }\r\n      cout<<ans<<endl;\r\n    }\r\n  }\r\n  \r\n}","lang":4}