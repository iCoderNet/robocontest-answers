{"code":"#include <bits\/stdc++.h>\r\nusing namespace std;\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n#define lll long long\r\n\r\ntemplate<class T>\r\nstruct Dictionary {\r\n  vector<T> dat;\r\n\r\n  Dictionary(vector<T> &d) : dat(d) {\r\n    sort(dat.begin(), dat.end());\r\n    dat.erase(unique(dat.begin(), dat.end()), dat.end());\r\n  }\r\n\r\n  int operator[](T v) {\r\n    return lower_bound(dat.begin(), dat.end(), v) - dat.begin();\r\n  }\r\n};\r\n\r\nint n;\r\nint ans[1 << 19];\r\nset<int> val[30];\r\nint cnt = 0;\r\n\r\nvoid dfs(int k, int d, int e, int up) {\r\n  auto it = val[d].upper_bound(up);\r\n  if (it == val[d].end()) return;\r\n\r\n  if (k >= n - 1) {\r\n    ans[k] = *it;\r\n    val[d].erase(it);\r\n    cnt++;\r\n    return;\r\n  }\r\n\r\n  dfs(k * 2 + 1, d, e - 1, up);\r\n  dfs(k * 2 + 2, e - 1, e - 1, *it);\r\n\r\n  ans[k] = min(ans[k * 2 + 1], ans[k * 2 + 2]);\r\n}\r\n\r\nbool solve() {\r\n  cin >> n;\r\n\r\n  vector<int> a(n * 2 - 1);\r\n  for (int i = 0; i < a.size(); i++) scanf(\"%d\", &a[i]);\r\n  vector<int> tmp(a);\r\n\r\n  Dictionary<int> dict(a);\r\n  if (dict.dat.size() != n) return false;\r\n  for (int i = 0; i < a.size(); i++) a[i] = dict[a[i]];\r\n\r\n  vector<int> freq(n);\r\n  for (int x : a) freq[x]++;\r\n\r\n  for (int i = 0; i < n; i++) if (freq[i] >= 30) return false;\r\n\r\n  for (int i = 0; i < n; i++) {\r\n    val[freq[i]].insert(i);\r\n  }\r\n\r\n  dfs(0, (int)log2(n) + 1, (int)log2(n) + 1, -1e9);\r\n\r\n  if (cnt != n) return false;\r\n\r\n  for (int i = 0; i < n * 2 - 1; i++) {\r\n    ans[i] = dict.dat[ans[i]];\r\n  }\r\n\r\n  vector<int> check_a(ans, ans + n * 2 - 1);\r\n  sort(check_a.begin(), check_a.end());\r\n  sort(tmp.begin(), tmp.end());\r\n\r\n  if (check_a != tmp) return false;\r\n\r\n  return true;\r\n}\r\n\r\nint main() {\r\n  if (solve()) {\r\n    cout << \"YES\\n\";\r\n\r\n    for (int i = 0; i < n * 2 - 1; i++) {\r\n      printf(\"%d \", ans[i]);\r\n    }\r\n    cout << \"\\n\";\r\n  } else {\r\n    cout << \"NO\\n\";\r\n  }\r\n}","lang":4}