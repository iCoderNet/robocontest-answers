{"code":"#include<iostream>\r\n#include<deque>\r\n#include<vector>\r\nconst int MAX = 1000000;\r\nint arr[MAX];\r\nusing namespace std;\r\nint main()\r\n{\r\n    deque<int> dq;\r\n    int n, m, s, x,j=1,i, t = 0;\r\n    cin>>n;\r\n    while(n--)\r\n    {\r\n        cin>>m;\r\n        if (m==1)\r\n        {\r\n            dq.push_front(j++);\r\n        }\r\n        else if(m==2)\r\n        {\r\n            dq.push_back(j++);\r\n        }\r\n        else if(m==3&&dq.size())\r\n        {\r\n            arr[t++] = dq.front();\r\n            dq.pop_front();\r\n        }\r\n        else if(m==4&&dq.size())\r\n        {\r\n            arr[t++] = dq.back();\r\n            dq.pop_back();\r\n        }\r\n    }\r\n    if (!t)\r\n    cout<<\"EMPTY\";\r\n    else\r\n    {\r\n      for(i = 0; i < t; i++)\r\n    {\r\n        cout<<arr[i]<<' ' ;\r\n    }\r\n  }\r\n}","lang":4}