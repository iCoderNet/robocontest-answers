{"code":"#include <bits\/stdc++.h>\r\nusing namespace std;\r\n\r\nconst int N = 2009;\r\nconst int mod = (int) 1e9 + 7;\r\n\r\nint dp[N][N];\r\n\r\nvoid upd (int &a, int b) {\r\n  a += b;\r\n  if (a >= mod) {\r\n    a -= mod;\r\n  }\r\n}\r\nint main () {\r\n\r\n  int n, m; cin >> n >> m;\r\n  string s; cin >> s;\r\n  int tot = 0;\r\n  int pref = 0;\r\n  int suff = 0;\r\n  for (int i = 0; i < m; i++) {\r\n    tot += s[i] == '(' ? 1 : -1;\r\n  }\r\n  for (int i = 0, b = 0; i < m; i++) {\r\n    b += s[i] == '(' ? -1 : 1;\r\n    pref = max (pref, b);\r\n  }\r\n  for (int i = m - 1, b = 0; i >= 0; i--) {\r\n    b += s[i] == '(' ? 1 : -1;\r\n    suff = max (suff, b);\r\n  }\r\n  dp[0][0] = 1;\r\n  for (int len = 0; len < 2000; len++) {\r\n    for (int bal = 0; bal < 2000; bal++) {\r\n      upd (dp[len + 1][bal + 1], dp[len][bal]);\r\n      if (bal - 1 >= 0) {\r\n        upd (dp[len + 1][bal - 1], dp[len][bal]);\r\n      }\r\n    }\r\n  }\r\n  int ans = 0;\r\n  for (int len = 0; len <= n - m; len++) {\r\n    for (int bal = 0; pref + bal <= 2000 && suff + bal <= 2000; bal++) {\r\n      upd (ans, dp[len][pref + bal] * 1LL * dp[n - m - len][suff + bal] % mod);\r\n    }\r\n  }\r\n  printf (\"%d\\n\", ans);\r\n  return 0;\r\n}","lang":4}