{"code":"def Fx(m, x, y, a, b, c):\r\n\tfor i in range(x, a):\r\n\t\tc-=1\r\n\t\tu = m[i][y:b]\r\n\t\tv = m[x+c][y:b]\r\n\t\tif u[::-1] != v:\r\n\t\t\treturn 1\r\n\treturn a - x\r\n\r\ndef dfs(a, n, m):\r\n\tr = 1\r\n\tfor i in range(n):\r\n\t\tfor j in range(m):\r\n\t\t\tx = min(n-i,m-j)\r\n\t\t\tt = Fx(a, i, j, i+x, j+x, x)\r\n\t\t\tr = max(r,t)\r\n\treturn r\r\n\r\nn, m = map(int,input().split())\r\na = [[x for x in input()] for x in range(n)]\r\nb = [x[::-1] for x in a[::-1]]\r\n\r\nx = dfs(a, n, m)\r\ny = dfs(b, n, m)\r\n\r\nprint(max(x, y))\r\n\r\n'''\r\n5 8\r\n10101110\r\n10001011\r\n10100100\r\n00000010\r\n01011101\r\n2\r\n'''","lang":2}