{"code":"#include <bits\/stdc++.h>\r\nusing namespace std;\r\n\r\nint countSubarrays(int arr[], int n)\r\n{\r\n  int x = 0;\r\n  int ans = 0;\r\n  int p[n + 1], q[n + 1];\r\n\r\n  fill_n(p, n + 1, 0);\r\n  fill_n(q, n + 1, 0);\r\n\r\n  p[0] = 1;\r\n\r\n  for (int i = 0; i < n ; i++)\r\n  {\r\n    if (arr[i] & 1 == 1)\r\n      x++;\r\n    else\r\n      x--;\r\n\r\n    if (x < 0)\r\n    {\r\n      ans += q[-x];\r\n      q[-x]++;\r\n    }\r\n    \r\n    else\r\n    {\r\n      ans += p[x];\r\n      p[x]++;\r\n    }\r\n  }\r\n\r\n  return ans;\r\n}\r\n\r\nint main()\r\n{\r\n  int t;\r\n  cin>>t;\r\n  int arr[t];\r\n  for(int i=0;i<t;i++)\r\n  cin>>arr[i];\r\n  int n = sizeof(arr) \/ sizeof(arr[0]);\r\n  \r\n  cout <<countSubarrays(arr,n);\r\n\r\n  return 0;\r\n}","lang":4}