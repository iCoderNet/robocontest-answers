{"code":"#include <bits\/stdc++.h>\r\nusing namespace std;\r\n#define mx 100005\r\nvector<int>adj[mx];\r\nbool vis[mx];\r\nlong long d;\r\n\r\nvoid dfs(int u, int s) {\r\n    vis[u] = true;\r\n    for (auto x : adj[u]) {\r\n        if (vis[x] == false) {\r\n            d += s+1;\r\n            dfs(x, s+1);\r\n        }\r\n    }\r\n}\r\n\r\nvoid add(int u, int v)\r\n{\r\n    adj[u].push_back(v);\r\n    adj[v].push_back(u);\r\n}\r\nint main()\r\n{\r\n    int n, m;\r\n    cin >> n ;\r\n    int a[n+1];\r\n    for (int i = 1; i <= n; i++) {\r\n        cin  >> a[i];\r\n       \/\/ add(i-1, v-1);\r\n    }\r\n   for(int i=1; i<=n; i++)\r\n   {\r\n       if (a[i] == -1) add(i, 0);\r\n       else add(i, a[i]);\r\n   }\r\n\r\n\r\n    dfs(0,0);\r\n    cout << d;\r\n    return 0;\r\n}","lang":4}