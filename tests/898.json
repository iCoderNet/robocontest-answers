{"code":"from math import *\r\n\r\ndef dfs(arr):\r\n\t\r\n\tn = len(arr)\r\n\tz = complex(arr[0])\r\n\ta, b = z.real, z.imag\r\n\r\n\tif n == 1:\r\n\t\ts = str(z).replace('(', '')\r\n\t\ts = str(s).replace(')', '')\r\n\t\ts = str(s).replace('j', 'i')\r\n\t\ts = s.replace('+1i', '+i')\r\n\t\ts = s.replace('-1i', '-i')\r\n\t\treturn s\r\n\r\n\r\n\tx = a\r\n\ty = b\r\n\tfor i in range(1, n):\r\n\t\tz = complex(arr[i])\r\n\t\ta, b = z.real, z.imag\r\n\t\tx, y = x * a - y * b, y * a + x * b\r\n\t\r\n\tif x == 0:\r\n\t\tX = \"\"\r\n\telse:\r\n\t\tX = str(int(x))\r\n\tif y == 0:\r\n\t\tY = \"\"\r\n\telse:\r\n\t\tY = str(int(y))\r\n\tif X == \"\":\r\n\t\ts = Y + 'i'\r\n\telse:\r\n\t\ts = X + '+' + Y + 'i'\r\n\ts = s.replace('+-', '-')\r\n\t#print(s)\r\n\tif '+i' in s:\r\n\t\ts = s.replace('+i', '')\r\n\tif '-i' in s:\r\n\t\ts = s.replace('-i', '')\r\n\t\r\n\ts = s.replace('+1i', '+i')\r\n\ts = s.replace('-1i', '-i')\r\n\t\r\n\treturn s;\t\r\narr = []\t\r\nfor i in input().split(\")(\"):\r\n\ts = i.replace('(', '')\r\n\ts = s.replace(')', '')\r\n\ts = s.replace('i', 'j')\r\n\tarr += [s]\r\nprint(dfs(arr))","lang":2}