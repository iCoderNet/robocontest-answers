{"code":"#include<bits\/stdc++.h>\r\nusing namespace std;\r\n\r\n#define mx 100002\r\nint n, arr[mx];\r\n\r\nsigned main() {\r\n\r\n\tios_base::sync_with_stdio(false);\r\n\tcin.tie(NULL);\r\n\tcout.tie(NULL);\r\n\r\n\tcin >> n;\r\n\tfor (int i = 1; i <= n; i++) {\r\n        cin >> arr[i];\r\n\t}\r\n\tint ret = 0;\r\n\tfor (int i = -50; i <= 50; i++) {\r\n\t\tmap < int, int > mp;\r\n\t\tfor (int j = 1; j <= n; j++) {\r\n            ret = max(ret, ++mp[arr[j]-i*j]);\r\n\t\t}\r\n\t}\r\n\tfor (int i = 1; i <= n; i++) {\r\n\t\tmap < int, int > mp;\r\n\t\tfor (int j = i+1; j <= i+2000 && j <= n; j++) {\r\n            if (!((arr[j] - arr[i]) % (j - i))) {\r\n                ret = max(ret, ++mp[(arr[j] - arr[i]) \/ (j-i)] + 1);\r\n            }\r\n\t\t}\r\n\t}\r\n\tcout << n - ret << endl;\r\n\treturn 0;\r\n}","lang":4}