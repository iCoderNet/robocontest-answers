{"code":"#include<bits\/stdc++.h>\r\nusing namespace std;\r\ntypedef long long ll;\r\nint t,n,a[100005];\r\nll cnt[100005];\r\nint main(){\r\n    ios_base::sync_with_stdio(0);\r\n    cin.tie(NULL);\r\n    cout.tie(NULL);\r\n    \r\n\tcin>>t;\r\n\twhile(t--){\r\n\t\tcin>>n;\r\n\t\tfor(int i=1;i<=n;i++)cin>>a[i],cnt[i]=0;\r\n\t\tll ans=0;\r\n\t\tfor(int i=1;i<=n;i++){\r\n\t\t\tif(cnt[i]>a[i]-1)cnt[i+1]+=cnt[i]-a[i]+1,cnt[i]=a[i]-1;\r\n\t\t\tans+=a[i]-cnt[i]-1;\r\n\t\t\tfor(int j=i+2;j<=i+a[i]&&j<=n;j++)cnt[j]++;\r\n\t\t}\r\n\t\tcout<<ans<<'\\n';\r\n\t}\r\n}","lang":4}